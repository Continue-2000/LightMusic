<template name="comment">
  <view class="commentContainer">
    <text class="iconfont icon-zhankai" bindtap="handleHiddenComment"></text>
    <text class="commnetTitle">评论</text>
    <scroll-view class="commnetContent" scroll-y enable-flex>
      <block wx:for="{{ comments }}" wx:key="commentId">
        <view
          class="contentItem"
          bindtap="handleToReply"
          data-commentId="{{ item.commentId }}"
          data-nickname="{{ item.nickname }}"
        >
          <image src="{{ item.avatarUrl }}" class="avatarUrl"></image>
          <view class="detail">
            <text class="nickname">{{ item.nickname }}</text>
            <text class="contentTime">{{ item.time }}</text>
            <text class="contentInfo">{{ item.content }}</text>
            <text class="reply" wx:if="{{ item.replys.length }}">
              <text
                class="replyItem"
                wx:for="{{ item.replys }}"
                wx:key="{{ index }}"
              >
                <text class="replyNiceName">{{ item.nickname }}:</text>
                <text class="replyContent">{{ item.content }}</text>
              </text>
            </text>
          </view>
          <image
            src="/static/images/videodetail/sub.png"
            class="subIcon"
          ></image>
        </view>
      </block>
    </scroll-view>
    <view class="input-section">
      <input
        class="input_input"
        value="{{ inputMessage }}"
        focus="auto"
        placeholder="{{ isReply ? replayNickName : '请输入发送内容' }}"
        bindinput="bindInputMsg"
        bindblur="onHideInput"
        confirm-type="send"
        bindconfirm="sendTextMsg"
      />
      <view class="sendArea">
        <view class="send_btn _btn" bindtap="handleToSend" formType="reset">
          <text class="send_btn_text">{{ isReply ? "回复" : "发送" }}</text>
        </view>
        <view
          class="cancel_btn _btn"
          wx:if="{{ isReply }}"
          bindtap="handleToCancel"
        >
          <text class="send_btn_text">取消</text>
        </view>
      </view>
    </view>
  </view>
</template>
