## LightMusic接口文档

baseUrl：localhost:3000

### login(登录)

#### 1.手机登录

| 说明     | 调用此接口。验证手机号登录                                   |
| -------- | ------------------------------------------------------------ |
| 必选参数 | phone：手机号码                                              |
|          | passwo：密码                                                 |
| 可选参数 | countrycode:国家码，用于国外手机号登录，例如美国传入         |
|          | md5_password:md5加密后的密码，传入后password将失效           |
| 接口地址 | /login/cellphone                                             |
| 调用例子 | /login/cellphone?phone=xxx&password=yyy` `/login/cellphone?phone=xxx&md5_password=yyy |



### index(发现)

#### 1.banner

| 说明     | 调用此接口。可获取banner（轮播图数据）              |
| -------- | --------------------------------------------------- |
| 可选参数 | type：资源类型（0:pc  1:android  2:iphone  3.ipad） |
| 接口地址 | /banner                                             |
| 调用例子 | /banner`, `/banner?type=2                           |



#### 2.推荐歌单

| 说明     | 调用此接口，可获取推荐歌单              |
| -------- | --------------------------------------- |
| 可选参数 | limit：取出数量，默认为30(不支持offset) |
| 接口地址 | /personalized                           |
| 调用例子 | /personalized?limit=1                   |



####  3.推荐mv

| 说明     | 调用此接口，可获取推荐mv |
| -------- | ------------------------ |
| 可选参数 |                          |
| 接口地址 | /personalized/mv         |
| 调用例子 | /personalized/mv         |



#### 4.推荐视频

| 说明     | 调用此接口，可获取推荐视频，分页参数只能传入offset |
| -------- | -------------------------------------------------- |
| 可选参数 | offset：默认0                                      |
| 接口地址 | /video/timeline/recommend                          |
| 调用例子 | /video/timeline/recommend?offset=10                |



### recommend(每日推荐)

#### 1.获取每日推荐歌曲

| 说明     | 调用此接口，可获得每日推荐歌曲（需要登录） |
| -------- | ------------------------------------------ |
| 可选参数 |                                            |
| 接口地址 | /recommend/songs                           |
| 调用例子 | /recommend/songs                           |



### songsheet(歌单)

### songsheetdetail(歌单详情)

#### 1.获取歌单详情

| 说明     | 调用此接口，可获得歌单详情信息  |
| -------- | ------------------------------- |
| 必选参数 | id：歌单id                      |
| 可选参数 | s：歌单最近的s个收藏者，默认为8 |
| 接口地址 | /playlist/detail                |
| 调用例子 | /playlist/detail?id=24381616    |



### video(播客)

#### 1.获取视频标签列表

| 说明     | 调用此接口，可获取视频标签列表 |
| -------- | ------------------------------ |
| 可选参数 |                                |
| 接口地址 | /video/group/list              |
| 调用例子 | /video/group/list              |



#### 2.获取视频标签/分类下的视频

| 说明     | 调用此接口，可获取视频标签/分类下的视频 |
| -------- | --------------------------------------- |
| 必选参数 | id:videoGroup的id                       |
| 可选参数 | offset：默认0                           |
| 接口地址 | /video/group                            |
| 调用例子 | /video/group?id=9104                    |



#### 3.获取全部视频列表

| 说明     | 调用此接口，可获取全部视频列表 |
| -------- | ------------------------------ |
| 可选参数 | offset：默认0                  |
| 接口地址 | /video/timeline/all            |
| 调用例子 | /video/timeline/all            |



### profile(我的)

#### 1.获取最近播放

| 说明     | 调用此接口，可获取最近播放列表                    |
| -------- | ------------------------------------------------- |
| 必选参数 | uid：用户id                                       |
| 可选参数 | type：type=1时只返回weekData，type=0时返回allData |
| 接口地址 | /user/record                                      |
| 调用例子 | /user/record?uid=32953014&type=1                  |



### playdetail(歌曲播放)

#### 1.获取音乐URL

| 说明     | 调用此接口，可获取对应音乐的url                              |
| -------- | ------------------------------------------------------------ |
| 必选参数 | id：音乐id                                                   |
| 可选参数 | br：码率，默认设置了999000 即最大码率，如果要320K，则可设置为320000，其他类推 |
| 接口地址 | /song/url                                                    |
| 调用例子 | /song/url?id=33894312` `/song/url?id=405998841,33894312      |



#### 2.获取歌曲详情

| 说明     | 调用此接口，传入音乐id（支持多个id），可获得歌曲详情     |
| -------- | -------------------------------------------------------- |
| 必选参数 | ids：音乐id                                              |
| 可选参数 |                                                          |
| 接口地址 | /song/detail                                             |
| 调用例子 | /song/detail?ids=347230`,`/song/detail?ids=347230,347231 |



#### 3.获取歌词

| 说明     | 调用此接口，传入音乐id，可获得对应音乐的歌词（不需要登录） |
| -------- | ---------------------------------------------------------- |
| 必选参数 | id：音乐id                                                 |
| 可选参数 |                                                            |
| 接口地址 | /lyric                                                     |
| 调用例子 | /lyric?id=33894312                                         |



### videodetail(视频播放)

#### 1.mv播放地址

| 说明     | 调用此接口，传入mv id，可获取mv播放地址               |
| -------- | ----------------------------------------------------- |
| 必选参数 | id：mv id                                             |
| 可选参数 | r:分辨率，默认1080，可从/mv/detail 接口获取分辨率列表 |
| 接口地址 | /mv/url                                               |
| 调用例子 | /mv/url?id=5436712` `/mv/url?id=10896407&r=1080       |



#### 2.获取mv数据

| 说明     | 调用此接口 , 传入 mvid ( 在搜索音乐的时候传 type=1004 获得 ) , 可获取对应 MV 数据 |
| -------- | ------------------------------------------------------------ |
| 必选参数 | mvid：音乐id                                                 |
| 可选参数 |                                                              |
| 接口地址 | /mv/detail                                                   |
| 调用例子 | /mv/detail?mvid=5436712                                      |



#### 3.视频播放地址

| 说明     | 调用此接口 , 传入视频 id,可获取视频播放地址    |
| -------- | ---------------------------------------------- |
| 必选参数 | id：视频id                                     |
| 可选参数 |                                                |
| 接口地址 | /video/url                                     |
| 调用例子 | /video/url?id=89ADDE33C0AAE8EC14B99F6750DB954D |



#### 4.视频详情

| 说明     | 调用此接口，传入音乐id，可获得对应音乐的歌词（不需要登录） |
| -------- | ---------------------------------------------------------- |
| 必选参数 | id：视频id                                                 |
| 可选参数 |                                                            |
| 接口地址 | /video/detail                                              |
| 调用例子 | /video/detail?id=89ADDE33C0AAE8EC14B99F6750DB954D          |



#### 5.视频详情

| 说明     | 调用此接口，传入音乐id，可获得对应音乐的歌词（不需要登录） |
| -------- | ---------------------------------------------------------- |
| 必选参数 | id：视频id                                                 |
| 可选参数 |                                                            |
| 接口地址 | /video/detail                                              |
| 调用例子 | /video/detail?id=89ADDE33C0AAE8EC14B99F6750DB954D          |



### search(搜索)

#### 1.默认搜索关键词

| 说明     | 调用此接口，可获取默认搜索关键词 |
| -------- | -------------------------------- |
| 接口地址 | /search/default                  |



#### 2.获取热搜榜

| 说明     | 调用此接口，传入音乐id，可获得对应音乐的歌词（不需要登录） |
| -------- | ---------------------------------------------------------- |
| 必选参数 | id：视频id                                                 |
| 可选参数 |                                                            |
| 接口地址 | /video/detail                                              |
| 调用例子 | /video/detail?id=89ADDE33C0AAE8EC14B99F6750DB954D          |



#### 3.搜索

| 说明     | 调用此接口，传入搜索关键词可以搜索音乐/专辑/歌手/歌单/用户   |
| -------- | ------------------------------------------------------------ |
| 必选参数 | keywords：关键词                                             |
| 可选参数 | limit：返回数量，默认为30                                    |
|          | offset：偏移数量，用于分页                                   |
|          | type：搜索类型，默认为1                                      |
| 接口地址 | search/cloudsearch（更全）                                   |
| 调用例子 | /search?keywords= 海阔天空` `/cloudsearch?keywords= 海阔天空 |